<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Face Encoding Console</title>
    <link rel="icon" type="image/svg+xml" href="assets/favicon.ico">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header class="glass-card header">
            <div class="brand">
                <img src="assets/company-logo.png" alt="Face Encoding" class="brand-logo">
                <div>
                    <h1>Face Encoding Console</h1>
                    <p>Trigger and monitor employee face encoding jobs.</p>
                </div>
            </div>
            <button id="runButton" class="btn-primary">Run Face Encoding</button>
        </header>

        <main class="glass-card">
            <section class="status-panel">
                <h2>Status</h2>
                <div id="statusIndicator" class="status-indicator idle">Idle</div>
                <div class="status-grid">
                    <div>
                        <label>Last Run</label>
                        <span id="lastRun">Never</span>
                    </div>
                    <div>
                        <label>Duration</label>
                        <span id="duration">-</span>
                    </div>
                    <div>
                        <label>Encoded Employees</label>
                        <span id="encodedCount">0</span>
                    </div>
                </div>
                <div class="encoded-list">
                    <div class="encoded-list__header">
                        <h3>Encoded Employee IDs</h3>
                        <button id="clearList" class="btn-tertiary" type="button">Clear</button>
                    </div>
                    <div id="encodedList" class="encoded-list__body empty">No runs yet.</div>
                </div>
            </section>

            <section class="log-panel">
                <h2>Execution Log</h2>
                <pre id="logOutput">Click "Run Face Encoding" to start.</pre>
            </section>
        </main>

        <footer class="glass-card footer">
            <h2>Instructions</h2>
            <ol>
                <li>Ensure the backend virtual environment is prepared with necessary dependencies.</li>
                <li>Upload this static app to an internal S3 bucket or open locally.</li>
                <li>Populate the API endpoint below with a secure internal endpoint that triggers <code>encode_faces.py</code> (e.g., API Gateway + Lambda or internal FastAPI route).</li>
            </ol>
            <div class="form-group">
                <label for="endpoint">Face Encoding Trigger Endpoint</label>
                <input type="url" id="endpoint" placeholder="https://internal-api.example.com/admin/run-face-encoding" value="http://127.0.0.1:8000/admin/run-face-encoding">
            </div>
        </footer>
    </div>

    <script src="app.js"></script>
</body>
</html>
